<!DOCTYPE   html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    
<html  xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">
<h:head>
<h:outputScript library="primefaces" name="jquery/jquery.js" />
<h:outputScript library="primefaces" name="jquery/jquery-plugins.js" />
<title>.: GroupeM EC - Espace client :.</title>
<link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<!-- <script src="js/jquery.min.js"></script> -->
<script src="js/bootstrap.js"></script>
<script src="js/statutViewer.js"></script>
<!-- Custom Theme files -->
<!--theme-style-->
<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
<link href="css/dynamic.css" rel="stylesheet" type="text/css" media="all" />
<!--//theme-style-->
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Bonfire Responsive web template, Bootstrap Web Templates, Flat Web Templates, Andriod Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyErricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!--fonts-->
<link href='http://fonts.googleapis.com/css?family=Exo:100,200,300,400,500,600,700,800,900' rel='stylesheet' type='text/css'/>
<!--//fonts-->
<script type="text/javascript" src="js/move-top.js"></script>
<script type="text/javascript" src="js/easing.js"></script>
				<script type="text/javascript">
					jQuery(document).ready(function($) {
						$(".scroll").click(function(event){		
							event.preventDefault();
							$('html,body').animate({scrollTop:$(this.hash).offset().top},1000);
						});
					});
				</script>
<script>$(document).ready(function(c) {
	$('.alert-close').on('click', function(c){
		$('.message').fadeOut('slow', function(c){
	  		$('.message').remove();
		});
	});	  
});
</script>
<script>$(document).ready(function(c) {
	$('.alert-close1').on('click', function(c){
		$('.message1').fadeOut('slow', function(c){
	  		$('.message1').remove();
		});
	});	  
});
</script>
<script type="text/javascript">
$(document).ready(function() {

	var openModal = true;
	
	$('.loginmodal-submit').click(function(){
		$('#login-modal').modal('hide');
		openModal  = true;
		}
	);

	
	$('#login-modal').on('hidden.bs.modal', function () {
		if(!$('.loginerrormessage').is(':empty') &amp;&amp; openModal)
			{ 
				$('#login-modal').modal('show');
				openModal  = false;
			};
	});
		
});
</script>
</h:head>
<h:body>
<f:event listener="#{espaceClientController.init}" type="preRenderView" />
<f:event listener="#{addressManagerController.init}" type="preRenderView" />
 <!--header-->
<h:panelGroup id="header">
<div class="header">
<div class="header-top">
<div class="container">
<div class="header-top-in">
<div class="logo">
<a href="index.xhtml"><img src="images/logowhite.png" alt=" " /></a>
</div>
<div class="header-in">
<ul class="icon1 sub-icon1">
<li><h:link outcome="login"
rendered="#{not loginController.islogged}">
<img src="images/account.png" class="img-responsive" alt="" />
</h:link> <h:link outcome="myaccount"
rendered="#{loginController.islogged}">
<img src="images/account.png" class="img-responsive" alt="" />
</h:link></li>
<li><h:panelGroup
rendered="#{not loginController.islogged}">
<span id="accountCartMenu"> <a href="#"
data-toggle="modal" data-target="#login-modal">SE
CONNECTER</a>
</span>
</h:panelGroup> <h:link value="CREER UN COMPTE" outcome="account"
rendered="#{not loginController.islogged}" /> <span
id="accountCartMenu"> <h:link value="MON COMPTE"
outcome="myaccount" rendered="#{loginController.islogged}" />
</span> <h:form>
<h:commandLink action="#{loginController.logout}"
value="SE DECONNECTER" rendered="#{loginController.islogged}" />
</h:form> <span id="userLoggedMenu"> <h:outputText
value="Bienvenue #{loginController.userLogged.civilite}. "
rendered="#{loginController.islogged}" /> <h:outputText
value="#{loginController.userLogged.lastName}"
rendered="#{loginController.islogged}" />
</span></li>
<li><h:link outcome="panier">
<img src="images/cart_white.png" class="img-responsive" alt="" />
</h:link></li>
<li><span id="accountCartMenu"> <h:link
value="MON PANIER" outcome="panier" />
</span> <h:link value="VOIR DETAIL" outcome="panier" /></li>
</ul>
</div>
<div class="clearfix"></div>
</div>
</div>
</div>
<div class="header-bottom">
<div class="container">
<div class="h_menu4">
<h:form>
<a class="toggleMenu" href="#">Menu</a>
<ul class="nav">
<ui:repeat var="metaCat"
value="#{itemListController.listMetaCategory}">
<li><a href="#">#{metaCat.name}</a>
<ul class="drop">
<ui:repeat var="cat" value="#{metaCat.categories}">
<li><h:link value="#{cat.name}" outcome="categorie">
<f:param name="catId" value="#{cat.id}" />
</h:link></li>
</ui:repeat>
</ul></li>
</ui:repeat>
</ul>
<script type="text/javascript" src="js/nav.js"></script>
</h:form>
</div>
</div>
</div>
<div class="header-bottom-in">
<div class="container">
<div class="header-bottom-on">

<div class="header-can">
<ul class="social-in">
<li><a href="index.jsf"><i> </i></a></li>
<li><a href="https://fr-fr.facebook.com/"><i
class="facebook"> </i></a></li>
<li><a href="https://twitter.com/"><i class="twitter">
</i></a></li>
<li><a href="https://www.skype.com/"><i class="skype">
</i></a></li>
</ul>
<div>
<h:form>
<p:autoComplete
completeMethod="#{rechercheArticleController.complete}"
id="itemName" value="#{rechercheArticleController.keyword}"
var="item" itemLabel="#{item}" itemValue="#{item}" />
<h:commandLink value="Rechercher"
action="#{rechercheArticleController.doSearch}"
styleClass="commandLink searchLink" />
</h:form>
</div>
<div class="clearfix"></div>
</div>
<div class="clearfix"></div>
</div>
</div>
</div>
</div>
</h:panelGroup>


<div class="modal fade" id="login-modal" tabindex="-1" role="dialog"
aria-labelledby="loginModalTop" aria-hidden="true"
style="display: none;">
<div class="modal-dialog">
<div class="loginmodal-container">
<h1>Connexion à votre compte</h1>
<br />
<h:form id="loginForm">
<h:inputText label="name" value="#{loginController.login}"
a:placeholder="E-mail"></h:inputText>
<h:inputSecret label="pasword" value="#{loginController.password}"
a:placeholder="Mot de passe"></h:inputSecret>
<div class="login-button-div">
<p:commandLink value="Connexion" id="login"
update="loginErrorMessage header"
actionListener="#{loginController.loginActionAjax}"
styleClass="loginmodal-submit commandLink" />
</div>
<br />
<div class="loginerrormessage">
<h:outputText id="loginErrorMessage"
value="#{loginController.errorMessage}"
styleClass="loginerrormessage" />
</div>
</h:form>
</div>
</div>
</div>
<!-- Fin Header -->
	
	<div class="container">			
		<div class="myaccount">
			<h2 class="myaccountprofile">
				<h:outputLabel value="Bonjour #{espaceClientController.userConnect.civilite}. #{espaceClientController.userConnect.lastName}" /> 	
			</h2>
			<h:form>	
				<h:commandButton value="Modifier mon profil" action="#{espaceClientController.userModify}"/>
			</h:form>
			<br />
			<h:outputLabel value="#{espaceClientController.messageInfoPerson}"/>
		</div>
		
		<h2 class=" myaccount">Suivi de votre commande en cours:</h2>				
		<h:outputLabel class="messagemyaccount" value="#{espaceClientController.messageOrdering}"/>
		<br/>				
			<h:dataTable class="table-account1" var="order" value="#{espaceClientController.listOrdering}" rendered="#{not empty espaceClientController.listOrdering}" styleClass="order-table"
    			headerClass="order-table-header"
    			rowClasses="order-table-odd-row,order-table-even-row">		
		    	<h:column>
		    		<f:facet name="header">No.</f:facet>
					<h:outputLabel value="#{order.id}"></h:outputLabel>
		    	</h:column>
		    	<h:column>
		    		<f:facet name="header">Designation de votre articles</f:facet>
					<ul style="margin: 0">
						<ui:repeat var="orderLine" value="#{order.orderLines}">
							<li><h:outputText value="#{orderLine.item.name}"/><h:outputText value="&#160;" /><h:outputText value="#{orderLine.item.reference}"/></li>							
						</ui:repeat>
					</ul>
					
		    	</h:column>
		    	<h:column>
		    		<f:facet name="header">Prix unitaire</f:facet>
					<ul style="margin: 0">
						<ui:repeat var="orderLine" value="#{order.orderLines}">
							<li><h:outputText value="#{orderLine.unitPrice}"><f:convertNumber type="currency" currencySymbol="€"/></h:outputText></li>							
						</ui:repeat>
					</ul>
		    	</h:column>
		    	<h:column>
		    		<f:facet name="header">Quantité</f:facet>
					<ul style="margin: 0">
						<ui:repeat var="orderLine" value="#{order.orderLines}">
							<li><h:outputText value="#{orderLine.quantity}"/></li>							
						</ui:repeat>
					</ul>
		    	</h:column>
		    	<!--
		    	<h:column>
		    		<h6><f:facet name="header">Prix TTC</f:facet></h6>			
		    	</h:column>
		    	  -->
		    	<h:column>
		    		<f:facet name="header">Status</f:facet>
		    		<h:outputLabel value="#{order.state}"></h:outputLabel>
		    	</h:column>
		    	<h:column>
		    		<f:facet name="header">No. Suivi</f:facet>
		    		<h:form>
		    			<h:commandLink actionListener="#{espaceClientController.initStatutViewer()}" value="#{order.trackingNumber}">
		    				<f:param name="trackingCode" value="#{order.trackingNumber}"/>
		    				<f:param name="orderId" value="#{order.id}"/>
		    				<f:passThroughAttribute name="data-toggle" value="modal" />
		    				<f:passThroughAttribute name="data-target" value="#tracking-modal" />
		    				<f:ajax render="@none" />
		    			</h:commandLink>
		    		</h:form>
		    	</h:column>    	
		</h:dataTable>			
		
		<div class="modal fade" id="tracking-modal" style="display: none;">
			<div class="modal-dialog">
				<div class="statutviewermodal-container">
					<h2 class="account-in"> 
						<h:outputText value="Suivi de la livraison de votre commande N° #{espaceClientController.ordering.id}" />
					</h2>
					<div>
						<h4>
							<h:outputText value="Informations générales:"/>
						</h4>
						<br />
						<table id="tableStatutReviewInfo">
							<tr id="sv-tr-infoGen">
								<td class="sv-td-infoGen">
									<span class="txt-bold">Adresse de livraison :</span>
									<br />
									<h:outputText class="espacementRight" value="#{espaceClientController.firstName}"/>
									<h:outputText class="espacementLeft" value="#{espaceClientController.lastName}"/>
									<br />
									<h:outputText class="espacementRight" value="#{espaceClientController.address.complement}"/>
									<h:outputText class="espacementRight espacementLeft" value="#{espaceClientController.address.number}"/>
									<h:outputText class="espacementRight espacementLeft" value="#{espaceClientController.address.roadType}"/>
									<h:outputText class="espacementLeft" value="#{espaceClientController.address.roadName}"/>
									<br />
									<h:outputText class="espacementRight" value="#{espaceClientController.address.zipcode}"/>
									<h:outputText class="espacementLeft" value="#{espaceClientController.address.city}"/>
									<br />
									<h:outputText value="#{espaceClientController.address.country}"/>
								</td>
								<td class="sv-td-infoGen">
									<span class="txt-bold">Date demande livraison :</span>
									<br />
									<h:outputText value="#{espaceClientController.dateDemande}"/>
									<br />
									<br />
									<span class="txt-bold">Date de prise en charge :</span>
									<br />
									<h:outputText value="#{espaceClientController.datePriseEnCharge}"/>
									<br />
									<br />
									<span class="txt-bold">Date de livraison :</span>
									<br />
									<h:outputText value="#{espaceClientController.dateLivraison}"/>
								</td>
								<td class="sv-td-infoGen">
									<span class="txt-bold">Transporteur :</span>
									<br />
									<h:outputText value="#{espaceClientController.transporteurName}"/>
									<br />
									<br />
									<span class="txt-bold">Code de suivi :</span>
									<br />
									<h:outputText value="#{espaceClientController.trackingCode}"/>
								</td>
							</tr>
						</table>
					</div>
					<div>
						<h:dataTable class="table-account1"  var="sl" value="#{espaceClientController.statutLines}" styleClass="order-table"
							headerClass="order-table-header"
							rowClasses="order-table-odd-row,order-table-even-row"
							columnClasses="sv-td-sl,sv-td-sl,sv-td-sl">
							<h:column>
				    			<f:facet name="header">Date</f:facet>
								<h:outputText value="#{sl.dateUpdate}" />
							</h:column>
							<h:column>
								<f:facet name="header">Localisation</f:facet>
								<h:outputText value="#{sl.locationUpdate}" />
							</h:column>
							<h:column>
								<f:facet name="header">Détails</f:facet>
								<h:outputText value="#{sl.detailsUpdate}" />
							</h:column>
						</h:dataTable>
					</div>
				</div>
			</div>
		</div>
	
		<h2 class="myaccount">Suivi de votre commande historique:</h2>		
		<h:outputLabel class="messagemyaccount" value="#{espaceClientController.messageOldOrder}"/>
		<br/>						
		<h:dataTable class="table-account1"  var="orderold" value="#{espaceClientController.listOldOrder}" rendered="#{not empty espaceClientController.listOrdering}" styleClass="order-table"
			headerClass="order-table-header"
			rowClasses="order-table-odd-row,order-table-even-row">		
	    	<h:column>
	    		<f:facet name="header">No.</f:facet>
				<h:outputLabel value="#{orderold.id}"></h:outputLabel>
	    	</h:column>
	    	<h:column>
	    		<f:facet name="header">Designation de votre articles</f:facet>
				<ul style="margin: 0">
					<ui:repeat var="orderLineOld" value="#{orderold.orderLines}">
						<li><h:outputText value="#{orderLineOld.item.name}"/><h:outputText value="&#160;" /><h:outputText value="#{orderLineOld.item.reference}"/></li>							
					</ui:repeat>
				</ul>
	    	</h:column>
	    	<h:column>
	    		<f:facet name="header">Prix unitaire</f:facet>
				<ul style="margin: 0">
					<ui:repeat var="orderLineOld" value="#{orderold.orderLines}">
						<li><h:outputText value="#{orderLineOld.unitPrice}"/></li>							
					</ui:repeat>
					</ul>
		    	</h:column>
		    	<h:column>
		    		<f:facet name="header">Quantité</f:facet>
					<ul style="margin: 0">
						<ui:repeat var="orderLineOld" value="#{orderold.orderLines}">
							<li><h:outputText value="#{orderLineOld.quantity}"/></li>							
						</ui:repeat>
					</ul>
		    	</h:column>
		    	<!-- 
		    	<h:column>
		    		<f:facet name="header">Prix TTC</f:facet>			
		    	</h:column>	
		    	 -->	    	
		</h:dataTable>
		
		<h2 class="myaccount">Gestionnaire d'adresse:</h2>
		<br />
		<h:outputLabel class="messagemyaccount" value="Vous n'avez pas enregistré d'adresse." rendered="#{empty addressManagerController.userAddresses}"/>
		<h:dataTable class="table-account1"  var="adr" value="#{addressManagerController.userAddresses}" rendered="#{not empty addressManagerController.userAddresses}" styleClass="order-table"
			headerClass="order-table-header"
			rowClasses="order-table-odd-row,order-table-even-row">
		   	<h:column>
		   		<f:facet name="header">Nom</f:facet>
				<h:outputLabel value="#{adr.name}"></h:outputLabel>
		   	</h:column>
		   	<h:column>
				<f:facet name="header">Numéro</f:facet>
				<h:outputText value="#{adr.number}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Complément</f:facet>
				<h:outputText value="#{adr.complement}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Type</f:facet>
				<h:outputText value="#{adr.roadType}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Nom Voie</f:facet>
				<h:outputText value="#{adr.roadName}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Ville</f:facet>
				<h:outputText value="#{adr.city}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Code postal</f:facet>
				<h:outputText value="#{adr.zipcode}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Pays</f:facet>
				<h:outputText value="#{adr.country}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Adresse facturation</f:facet>
				<h:selectBooleanCheckbox value="#{adr.billing}" disabled="true"/>
			</h:column>
			<h:column>
				<f:facet name="header">Mise à jour</f:facet>
				<h:form>
					<h:commandButton class="btnAddress" action="#{addressManagerController.updateAddress}" value="Mettre à jour">
						<f:param name="addressId" value="#{adr.id}"/>
					</h:commandButton>
				</h:form>
			</h:column>
			<h:column>
				<f:facet name="header">Effacer</f:facet>
				<h:form>
					<h:commandButton class="btnAddress" action="#{addressManagerController.deleteAddress}" value="Effacer">
						<f:param name="addressId" value="#{adr.id}"/>
					</h:commandButton>
				</h:form>	
			</h:column> 	
		</h:dataTable>
		<br />
		<h:button class="btnAddress" outcome="addAddress" value="Ajouter une adresse" />
		<br/>
		<br/>
		
		</div>
		<!---->
		<div class="footer">
			<div class="footer-top">
				<div class="container">
					<div class="col-md-4 footer-in">						
						<h4><i><img src="images/telorange.png" alt=" " /></i> A VOTRE ECOUTE</h4>
						<span class="span">Conseil:0673842460 (Service gratuit)</span>						
						<p>N'hésitez pas à nous appeler pour obtenir un conseil ou vous accompagner dans votre prise de commande.</p>						
					</div>
					<div class="col-md-4 footer-in">
						<h4><i class="cross"><img src="images/emailorange.png" alt=" " /> </i>NEWSLETTER</h4>
						<p>Inscrivez-vous à notre newsletter et restez informé de l’actualité et des bons plans MixHighTech.</p>
						<form id="get_email" name="getEmail" action="">
							<p>
								<input class="input" type= "text"  name="abonnement" value="Votre adresse e-mail"/>
								<button class="button" onclick="">OK</button>
							</p>
						</form>						
					</div>
					<div class="col-md-4 footer-in">
						<h4><i class="down"><img src="images/morange.png" alt=" " /> </i>SUIVEZ-NOUS!</h4>
						<p> <a href="https://fr-fr.facebook.com/"><img class="facebook" src="images/facebook.png" alt=" " /></a>
							<a href="https://twitter.com/"><img class="twitter" src="images/twitter.png" alt=" " /></a>
							<a href="https://www.skype.com/"><img class="skype" src="images/skype.png" alt=" " /></a>
							<a href="index.jsf"><img class="earth" src="images/earth.png" alt=" " /></a>
						</p>
						
					</div>
					<div class="clearfix"></div>
				</div>
			</div>
			<!---->
			<div class="footer-middle">
				<div class="container">
					<div class="footer-middle-in">
						<h6>A propos de nous</h6>
						<p>Mix Hightech est une entreprise spécialisée dans la vente de matériels informatiques.</p>
					</div>
					<div class="footer-middle-in">
						<h6>Informations</h6>
						<ul>
							<li><a href="#">Livraison</a></li>
							<li><a href="#">Conditions Générales</a></li>
							<li><a href="#">Vie Privée</a></li>
						</ul>
					</div>
					<div class="footer-middle-in">
						<h6>Service Client</h6>
						<ul>
							<li><a href="contact.html">Contactez-Nous</a></li>
							<li><a href="#">Retours</a></li>
						</ul>
					</div>
					<div class="footer-middle-in">
						<h6>Mon Compte</h6>
						<ul>
							<li><a href="account.xhtml">Mon Compte</a></li>
							<li><a href="#">HIstorique Des Commandes</a></li>
							<li><a href="wishlist.html">Wish List</a></li>
							<li><a href="#">Newsletter</a></li>
						</ul>
					</div>
					<div class="footer-middle-in">
						<h6>Aide</h6>
						<ul>
							<li><a href="#">FAQ</a></li>
							<li><a href="#">Aide</a></li>
							<li><a href="#">Dépannage</a></li>
						</ul>
					</div>
					<div class="clearfix"></div>
				</div>
			</div>
			<p class="footer-class">  <a href="http://w3layouts.com/" target="_blank"></a> </p>
			<script type="text/javascript">
						$(document).ready(function() {
							/*
							var defaults = {
					  			containerID: 'toTop', // fading element id
								containerHoverID: 'toTopHover', // fading element hover id
								scrollSpeed: 1200,
								easingType: 'linear' 
					 		};
							*/
							
							$().UItoTop({ easingType: 'easeOutQuart' });
							
						});
					</script>
				<a href="#" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
				
		</div>
</h:body>
</html>