<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

	<h:head>
		<title>.: Gestionnaire d'adresse :.</title>
	</h:head>

	<h:body>
		<f:event listener="#{addressManagerController.init}" type="preRenderView" />
		<h1>.: Gestionnaire d'adresse :.</h1>

		<div>
			<h:dataTable var="adr" value="#{addressManagerController.userAddresses}" border="1">
				<h:column>
					<f:facet name="header">Nom</f:facet>
					<h:outputText value="#{adr.name}"/>
				</h:column>
				<h:column>
					<f:facet name="header">Numéro</f:facet>
					<h:outputText value="#{adr.number}"/>
				</h:column>
				<h:column>
					<f:facet name="header">Complément</f:facet>
					<h:outputText value="#{adr.complement}"/>
				</h:column>
				<h:column>
					<f:facet name="header">Type</f:facet>
					<h:outputText value="#{adr.roadType}"/>
				</h:column>
				<h:column>
					<f:facet name="header">Nom Voie</f:facet>
					<h:outputText value="#{adr.roadName}"/>
				</h:column>
				<h:column>
					<f:facet name="header">Ville</f:facet>
					<h:outputText value="#{adr.city}"/>
				</h:column>
				<h:column>
					<f:facet name="header">Code postal</f:facet>
					<h:outputText value="#{adr.zipcode}"/>
				</h:column>
				<h:column>
					<f:facet name="header">Pays</f:facet>
					<h:outputText value="#{adr.country}"/>
				</h:column>
				<h:column>
					<f:facet name="header">Adresse facturation</f:facet>
					<h:selectBooleanCheckbox value="#{adr.billing}" disabled="true"/>
				</h:column>
				<h:column>
					<f:facet name="header">Mise à jour</f:facet>
					<h:button outcome="updateAddress" value="Mettre à jour">
						<f:param name="addressId" value="#{adr.id}"/>
						<f:param name="userId" value="#{addressManagerController.currentUser.id}" />
					</h:button>
				</h:column>
				<h:column>
					<f:facet name="header">Effacer</f:facet>
					<h:button outcome="addressManager" value="Effacer">
						<f:param name="addressId" value="#{adr.id}"/>
					</h:button>	
				</h:column>
			</h:dataTable>
		</div>
		<h:button outcome="addAddress" value="Ajouter une adresse">
			<f:param name = "userId" value="#{addressManagerController.currentUser.id}"/>
		</h:button>
	</h:body>
</html>
