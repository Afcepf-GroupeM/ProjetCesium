<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">


<h:head>
<title>.: Item list :.</title>
</h:head>

<body>

	<div>
		<h1>Détail de votre panier</h1>
		IdNewItem: <h:outputText value="#{panierController.idNewItem}"/><br/>
		Quantité: <h:outputText value="#{panierController.quantityNewItem}"/> 
	</div>
	<div>
		<h2>Panier Id <h:outputText value="#{panierController.cart.id}"/> - (Printing for debug purpose only)</h2>
		<h:form>
		<h:dataTable value="#{panierController.cartLines}"  var="line" >
			<h:column>
				<f:facet name="header">Nom des articles</f:facet>
				<h:outputText value="#{line.item.name}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Prix unitaire</f:facet>
				<h:outputText value="#{line.unitPrice}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Stock</f:facet>
				<h:outputText value="#{line.item.stock}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Quantité</f:facet>
				<h:outputText value="#{line.quantity}"/>
			</h:column> 
			<h:column>
				<f:facet name="header">Prix Total</f:facet>
				<h:outputText value="#{panierController.cartLinesSubtotal[line.id]}"/>
			</h:column>
			<h:column>
				<f:facet name="header">Supprimer</f:facet>
				<h:commandLink action="#{panierController.removeItemFromCart}">
					<h:outputText value="Supprimer"/>
					<f:param name="itemIdToRemove" value="#{line.item.id}"/>
				</h:commandLink>	
			</h:column>
		</h:dataTable>

		<br/>
		<div class="zoneButton">
		Montant total: <h:outputText value="#{panierController.totalAmount}"/>€<br/><br/>
		<h:commandButton value="Poursuivez votre achat"  action="#"/>
		<br/>
		
		<h:commandButton value="Continuez votre commande"  action="#"/>
		</div>
	</h:form>
	</div>
</body>
</html>