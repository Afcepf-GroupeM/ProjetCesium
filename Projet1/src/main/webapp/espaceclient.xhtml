<!DOCTYPE   html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">
<head>
<title>.: Espace client :.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style>
.order-table{border-collapse:collapse;}
.order-table-header{text-align:center;background:none repeat scroll 0 0 #E5E5E5;border-bottom:1px solid #BBBBBB;padding:16px;}
.order-table-odd-row{text-align:center;background:none repeat scroll 0 0 #FFFFFFF;border-top:1px solid #BBBBBB;}
.order-table-even-row{text-align:center;background:none repeat scroll 0 0 #F9F9F9;border-top:1px solid #BBBBBB;}
</style>

</head>
<body>
<f:event listener="#{espaceClientController.init}" type="preRenderView" />
 <h:form>
 	<div style="float:left; margin: 0 auto"> 	
		 <h:outputLabel value="Bonjour"/> 
		 <h:outputText value="&#160;" />	
		<h:outputLabel value="#{espaceClientController.userConnect.firstName}"/> 
		<h:outputText value="&#160;" />
		<h:outputLabel value="#{espaceClientController.userConnect.lastName}"/> 
		<h:outputText value="&#160;" />		
		<h:commandButton value="Modifier information personnalle" action="#{espaceClientController.userModify}"/>
		<h:outputLabel value="messageInfoPerso"/> 
	</div>

	<div style="width: 100%;float: left;">
		<h2>Suivi de votre commande en cours: </h2>
		<h:outputLabel value="#{espaceClientController.messageOrdering}"/>
		<br/>
		<h:dataTable var="order" value="#{espaceClientController.listOrdering}" rendered="#{not empty espaceClientController.listOrdering}" styleClass="order-table"
	    			headerClass="order-table-header"
	    			rowClasses="order-table-odd-row,order-table-even-row">		
	    	<h:column>
	    		<f:facet name="header">No.</f:facet>
				<h:outputLabel value="#{order.id}"></h:outputLabel>
	    	</h:column>
	    	<h:column>
	    		<f:facet name="header">Designation de votre articles</f:facet>
				<ul style="margin: 0">
					<ui:repeat var="orderLine" value="#{order.orderLines}">
						<li><h:outputText value="#{orderLine.item.name}"/><h:outputText value="&#160;" /><h:outputText value="#{orderLine.item.reference}"/></li>							
					</ui:repeat>
				</ul>
	    	</h:column>
	    	<h:column>
	    		<f:facet name="header">Prix unitaire</f:facet>
				<ul style="margin: 0">
					<ui:repeat var="orderLine" value="#{order.orderLines}">
						<li><h:outputText value="#{orderLine.unitPrice}"/></li>							
					</ui:repeat>
				</ul>
	    	</h:column>
	    	<h:column>
	    		<f:facet name="header">Quantité</f:facet>
				<ul style="margin: 0">
					<ui:repeat var="orderLine" value="#{order.orderLines}">
						<li><h:outputText value="#{orderLine.quantity}"/></li>							
					</ui:repeat>
				</ul>
	    	</h:column>
	    	<h:column>
	    		<f:facet name="header">Prix TTC</f:facet>			
	    	</h:column>
	    	<h:column>
	    		<f:facet name="header">Status</f:facet>	
	    		<h:outputLabel value="#{order.state}"></h:outputLabel>		
	    	</h:column>
	    	<h:column>
	    		<f:facet name="header">No. Suivi</f:facet>	
	    		<h:outputLabel value="#{order.trackingNumber}"></h:outputLabel>		
	    	</h:column>    	
		</h:dataTable>
	</div>
	
	<div style="width: 100%;float: left;">
		<h2>Suivi de votre commande historique: </h2>		
		<h:outputLabel value="#{espaceClientController.messageOldOrder}"/>
		<br/>
		<h:dataTable var="orderold" value="#{espaceClientController.listOldOrder}" rendered="#{not empty espaceClientController.listOrdering}" styleClass="order-table"
		    			headerClass="order-table-header"
		    			rowClasses="order-table-odd-row,order-table-even-row">		
		    	<h:column>
		    		<f:facet name="header">No.</f:facet>
					<h:outputLabel value="#{orderold.id}"></h:outputLabel>
		    	</h:column>
		    	<h:column>
		    		<f:facet name="header">Designation de votre articles</f:facet>
					<ul style="margin: 0">
						<ui:repeat var="orderLineOld" value="#{orderold.orderLines}">
							<li><h:outputText value="#{orderLineOld.item.name}"/><h:outputText value="&#160;" /><h:outputText value="#{orderLineOld.item.reference}"/></li>							
						</ui:repeat>
					</ul>
		    	</h:column>
		    	<h:column>
		    		<f:facet name="header">Prix unitaire</f:facet>
					<ul style="margin: 0">
						<ui:repeat var="orderLineOld" value="#{orderold.orderLines}">
							<li><h:outputText value="#{orderLineOld.unitPrice}"/></li>							
						</ui:repeat>
					</ul>
		    	</h:column>
		    	<h:column>
		    		<f:facet name="header">Quantité</f:facet>
					<ul style="margin: 0">
						<ui:repeat var="orderLineOld" value="#{orderold.orderLines}">
							<li><h:outputText value="#{orderLineOld.quantity}"/></li>							
						</ui:repeat>
					</ul>
		    	</h:column>
		    	<h:column>
		    		<f:facet name="header">Prix TTC</f:facet>			
		    	</h:column>
		    	
		</h:dataTable>
	</div>
	
	<div style="width: 100%;float: left;">
		<h2>Gestion addresse: </h2>	
		<h:commandButton value="Ajouter une nouvelle adresse"/>
		<h:outputLabel value="messageAdresse"/>  
	</div>

 </h:form>
</body>
</html>